apiVersion: kro.run/v1alpha1
kind: ResourceGraphDefinition
metadata:
  name: config-map-service
  finalizers:
    - kro.run/finalizer
  generation: 2
status:
  # filter conditions array to keep elements where `type == 'Ready'`
  # and assert there's a single element matching the filter
  # and that this element status is `True`
  (conditions[?type == 'Ready']):
    - status: 'False'
      message: |-
        specified service account system:serviceaccount:my-custom-namespace:configmap-creator-update does not have permission to create "configmap" (/v1, Resource=configmaps) in namespace my-custom-namespace
        specified service account system:serviceaccount:my-custom-namespace:configmap-creator-update does not have permission to delete "configmap" (/v1, Resource=configmaps) in namespace my-custom-namespace
        specified service account system:serviceaccount:my-custom-namespace:configmap-creator-update does not have permission to patch "configmap" (/v1, Resource=configmaps) in namespace my-custom-namespace
        specified service account system:serviceaccount:my-custom-namespace:configmap-creator-update does not have permission to watch "configmap" (/v1, Resource=configmaps) in namespace my-custom-namespace
      observedGeneration: 2
  state: Inactive

